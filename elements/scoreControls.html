<link rel="import" href="../app/components/polymer/polymer.html" />
<link rel="import" href="../app/components/polymer-ui-collapsible/polymer-ui-collapsible.html">
<polymer-element name="smw-score-controls" attributes="{{ source }}">
    <template>
        <style>
            :host {
                display: block;
                background-color: #EEE;
                padding: 8px;
            }
            .polymer-ui-collapsible-header {
                cursor: pointer;
            }
        </style>
        <polymer-ui-collapsible>
            <div class="polymer-ui-collapsible-header">
                <span>Tools</span>
            </div>
            <div>
                <a href="#" id="add-measure" on-click="{{ addMeasureClicked }}">Add Measure</a>
                <a href="/testData/theFuddler.json" on-click="{{ scoreSelected }}">The Fuddler</a>
                <a href="/testData/edinburghPolicePipers.json" on-click="{{ scoreSelected }}">Edinburgh Police</a>
            </div>
        </polymer-ui-collapsible>
    </template>
    <script>
        (function() {
            'use strict';
            Polymer('smw-score-controls', {
                source: '',
                addMeasureClicked: function(e) {
                    e.preventDefault();
                    this.asyncFire('polymer-signal', {
                        name: 'music',
                        data: {
                            command: 'add-bar'
                        }
                    });
                },
                scoreSelected: function(e, num, link) {
                    e.preventDefault();
                    this.source = link.href;
                }
            });
        })();
    </script>
</polymer-element>
